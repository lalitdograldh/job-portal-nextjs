import z from "zod";

export const organizationTypes =[
    "Development",
    "Business",
    "Finance & Accounting",
    "IT & Software",
    "Office Productivity",
    "Personal Development",
    "Design",
    "Marketing",
    "Photography & Video",
    "Healthcare",
    "Education",
    "Retail",
    "Manufacturing",
    "Hospitality",
    "Consulting",
    "Real Estate",
    "Legal",
    "Other"
] as const;

export const teamSizes = [
    "1",
    "2-10",
    "11-50",
    "51-200",
    "201-500",
    "501-1000",
    "1001+",
] as const

export const employerProfileSchema = z.object({

    name:z
        .string()
        .trim()
        .min(2,"Company name must be at least 2 characters long")
        .max(255,"Company name must not exceed 255 characters"),
    
    description:z
        .string()
        .trim()
        .min(10," Description must be at least 10 characters long")
        .max(255,"Description must not exceed 255 characters"),
    
    organizationType:z.enum(organizationTypes,{
        error:"Please select a valid organization type",        
    }),

    teamSize:z.enum(teamSizes,{
        error:"Please select a valid team type",        
    }),

    yearOfEstablisment:z
        .string()
        .trim()
        .regex(/^\d{4}$/,"Please enter a valid 4-digit year")
        .refine((year) =>{
            const yearNum = parseInt(year);
            const currentYear =  new Date().getFullYear();
            return yearNum >= 1800 && yearNum <= currentYear;
        },
        {
            message : "Please enter a valid year between 1800 and current year",
        }
    ),

    websiteUrl : z
        .url("Please enter a valid URL (e.g.,https://example.com)")
        .trim()
        .max(500,"Website URL must not exceed 500 characters")
        .optional()
        .or(z.literal("")),

    location :z
        .string()
        .trim()
        .min(2,"Location must be at least 2 characters long")
        .max(255,"Location must not exceed 255 characters")
        .optional()
        .or(z.literal("")),

});

export type EmployerProfileData = z.infer<typeof employerProfileSchema>;